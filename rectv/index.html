<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>INADINA TV</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
<style>
:root{--hue:345;--primary:hsl(var(--hue),100%,50%);--bg:#0f0a1a;--surface:#1a1825;--text:#e8e6e3;--card-bg:rgba(255,255,255,0.06);--border:rgba(255,255,255,0.03);}
body{background:var(--bg);color:var(--text);font-family:'Poppins',sans-serif;margin:0;padding-bottom:20px;transition:0.3s;}
body.light-theme{--bg:#f5f5f5;--surface:#ffffff;--text:#1a1a1a;--card-bg:#ffffff;--border:#e0e0e0;}
.top-bar{padding:15px 20px;background:var(--surface);display:flex;justify-content:space-between;align-items:center;position:sticky;top:0;z-index:100;box-shadow:0 4px 10px rgba(0,0,0,0.3);}
.logo{font-size:1.4rem;font-weight:800;background:linear-gradient(135deg,#ff0040,#ff4d00);-webkit-background-clip:text;color:transparent;}
.header-actions{display:flex;align-items:center;gap:8px;}
.theme-btn{background:rgba(255,255,255,0.08);border:1px solid rgba(255,255,255,0.1);color:#fff;padding:8px;border-radius:8px;cursor:pointer;}
.light-theme .theme-btn{background:rgba(0,0,0,0.05);color:#333;border-color:rgba(0,0,0,0.1);}
/* SEARCH EXPAND */
.search-wrapper{position:relative;display:flex;align-items:center;}
.search-input-header{width:0;padding:0;border:none;outline:none;background:rgba(255,255,255,0.1);color:white;border-radius:20px;transition:0.4s;visibility:hidden;opacity:0;}
.search-input-header.active{width:140px;padding:6px 12px;visibility:visible;opacity:1;margin-right:5px;border:1px solid rgba(255,255,255,0.2);}
.light-theme .search-input-header{background:#eee;color:#333;border:1px solid #ccc;}
.search-icon-btn{background:none;border:none;color:inherit;font-size:1.2rem;cursor:pointer;padding:5px;}
/* ONLINE & ANNOUNCE */
.online-badge{display:flex;align-items:center;gap:6px;padding:6px 10px;background:rgba(0,255,127,0.1);border:1px solid rgba(0,255,127,0.2);border-radius:8px;font-size:0.8rem;color:#00ff7f;}
.announcement-bar{background:#ffeb3b;color:#000;white-space:nowrap;overflow:hidden;padding:8px 0;font-weight:bold;font-size:0.95rem;display:none;border-bottom:3px solid #ff4d00;}
.announcement-content{display:inline-block;padding-left:100%;animation:scroll 20s linear infinite;}
@keyframes scroll{0%{transform:translateX(0);}100%{transform:translateX(-100%);}}
/* FEATURES */
.feature-container{margin:15px;display:flex;flex-direction:column;gap:15px;}
.countdown-box{background:linear-gradient(135deg,#1a1825,#000);border:1px solid var(--primary);border-radius:15px;padding:15px;text-align:center;display:none;}
.countdown-timer{display:flex;justify-content:center;gap:10px;font-size:1.5rem;font-weight:bold;color:white;}
.poll-box{background:var(--card-bg);border:1px solid var(--border);border-radius:15px;padding:15px;display:none;}
.poll-bar-bg{background:rgba(255,255,255,0.1);height:30px;border-radius:8px;position:relative;margin-bottom:5px;overflow:hidden;}
.poll-bar-fill{height:100%;background:linear-gradient(90deg,var(--primary),#ff4d00);width:0%;transition:width 0.5s;}
.poll-text{position:absolute;top:0;left:10px;height:100%;display:flex;align-items:center;font-size:0.8rem;font-weight:bold;color:white;text-shadow:0 0 3px black;}
/* CARD & BADGES */
.container{padding:15px;}
.card{background:var(--card-bg);border-radius:15px;padding:10px;margin-bottom:12px;display:flex;align-items:center;cursor:pointer;border:1px solid var(--border);position:relative;}
.card.hidden{display:none;}
.light-theme .card{box-shadow:0 2px 8px rgba(0,0,0,0.08);}
.img-box{position:relative;width:55px;height:55px;flex-shrink:0;}
.card-img{width:100%;height:100%;border-radius:10px;object-fit:cover;}
.badge{position:absolute;top:-8px;right:-8px;font-size:0.6rem;padding:2px 6px;border-radius:6px;font-weight:800;z-index:10;}
.badge-iptv{background:linear-gradient(135deg,#00d2ff,#3a7bd5);color:#fff;}
.badge-new{background:linear-gradient(135deg,#ffcc00,#ff9900);color:#000;animation:pulse 2s infinite;}
@keyframes pulse{0%{transform:scale(1);}50%{transform:scale(1.1);}100%{transform:scale(1);}}
.card-info{flex:1;margin-left:12px;}
.card-name{font-weight:700;margin-bottom:3px;}
.card-meta{font-size:0.75rem;opacity:0.6;display:flex;align-items:center;gap:8px;}
.stat-badge{display:inline-flex;align-items:center;gap:3px;background:rgba(255,255,255,0.1);padding:2px 6px;border-radius:6px;z-index:5;position:relative;}
.stat-heart{cursor:pointer;transition:transform 0.2s;color:#ff3d3d;}
.stat-heart.liked{color:red;transform:scale(1.3);text-shadow:0 0 10px red;}
.stat-report{color:#ff4d4d;cursor:pointer;}
.play-icon{color:var(--primary);font-size:1.4rem;margin-left:10px;}
.load-more-btn{width:100%;padding:15px;background:var(--primary);color:white;border:none;border-radius:15px;font-weight:bold;cursor:pointer;margin-top:10px;}
.load-more-btn.hidden{display:none;}
/* CHAT */
.chat-btn{position:fixed;bottom:20px;right:20px;width:60px;height:60px;background:var(--primary);border-radius:50%;display:flex;justify-content:center;align-items:center;color:white;font-size:1.5rem;box-shadow:0 5px 15px rgba(0,0,0,0.3);z-index:200;cursor:pointer;}
.chat-modal{position:fixed;bottom:-100%;left:0;width:100%;height:96%;background:var(--surface);border-radius:20px 20px 0 0;z-index:201;transition:0.4s;display:flex;flex-direction:column;box-shadow:0 -5px 30px rgba(0,0,0,0.5);}
.chat-modal.active{bottom:0;}
.chat-messages{flex:1;padding:15px;overflow-y:auto;display:flex;flex-direction:column;gap:10px;}
.message-bubble{max-width:80%;padding:8px 12px;border-radius:12px;font-size:0.9rem;position:relative;word-wrap:break-word;color:white;background:rgba(255,255,255,0.1);}
.msg-right{align-self:flex-end;background:var(--primary);}
.msg-left{align-self:flex-start;}
.msg-user{font-size:0.7rem;opacity:0.7;margin-bottom:2px;display:block;font-weight:bold;cursor:pointer;}
.quoted-msg{background:rgba(0,0,0,0.3);border-left:3px solid #ff4d00;padding:5px;font-size:0.75rem;margin-bottom:5px;border-radius:4px;}
.reply-preview-bar{background:#222;padding:10px;display:none;justify-content:space-between;align-items:center;border-left:4px solid var(--primary);}
.chat-input-area{padding:10px;display:flex;gap:10px;background:rgba(0,0,0,0.2);}
.chat-input{flex:1;padding:10px;border-radius:20px;border:none;outline:none;background:rgba(255,255,255,0.1);color:var(--text);}
.light-theme .chat-input{background:white;color:black;}
.chat-img-btn{background:none;border:none;color:white;font-size:1.2rem;cursor:pointer;}
.light-theme .chat-img-btn{color:#333;}
.chat-img{max-width:100%;border-radius:8px;margin-top:5px;border:1px solid rgba(255,255,255,0.2);}
/* ADMIN & MODAL */
.modal{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.9);z-index:1000;display:none;justify-content:center;align-items:center;}
.modal-box{background:var(--surface);width:85%;max-width:380px;border-radius:20px;padding:20px;border:1px solid var(--border);}
.admin-panel-btn{position:fixed;bottom:20px;left:20px;width:50px;height:50px;background:#ff0040;border-radius:50%;display:none;justify-content:center;align-items:center;color:white;box-shadow:0 5px 15px rgba(0,0,0,0.5);cursor:pointer;z-index:200;}
#adminPanelModal .modal-box{display:flex;flex-direction:column;max-height:90vh;padding-bottom:60px;}
.admin-modal-body{overflow-y:auto;text-align:left;padding-right:5px;flex:1;}
.admin-menu-btn{background:rgba(255,255,255,0.08);padding:12px;border-radius:10px;margin-top:10px;color:#ffeb3b;cursor:pointer;display:flex;justify-content:space-between;}
.admin-submenu{display:none;margin-top:5px;padding-left:10px;border-left:2px solid #ffeb3b;}
.admin-submenu.active{display:block;}
.custom-input{width:90%;padding:10px;margin:5px 0;border-radius:8px;border:1px solid #555;background:#222;color:white;}
.light-theme .custom-input{background:white;color:black;border-color:#ccc;}
.btn-confirm{width:100%;padding:10px;background:#ff0040;color:white;border:none;border-radius:8px;font-weight:bold;margin-top:5px;cursor:pointer;}
.btn-cancel{width:100%;padding:10px;background:#444;color:white;border:none;border-radius:8px;margin-top:5px;cursor:pointer;}
.btn-shorten{background:#00d2ff;color:white;border:none;padding:8px 12px;border-radius:8px;font-weight:bold;cursor:pointer;margin-top:5px;width:100%;}
.player-opt{display:flex;align-items:center;padding:15px;margin:8px 0;border-radius:12px;background:rgba(255,255,255,0.05);gap:15px;cursor:pointer;color:white;}
.light-theme .player-opt{background:rgba(0,0,0,0.05);color:#333;}
.toast{visibility:hidden;min-width:250px;background:#333;color:#fff;text-align:center;border-radius:50px;padding:16px;position:fixed;z-index:2000;left:50%;bottom:80px;transform:translateX(-50%);opacity:0;transition:0.3s;}
.toast.show{visibility:visible;opacity:1;bottom:90px;}
</style>
</head>
<body>
<div id="toast" class="toast"></div>
<div id="maintenanceScreen" style="display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:#111;z-index:9000;color:#ffeb3b;flex-direction:column;justify-content:center;align-items:center;">
<i class="fas fa-tools" style="font-size:4rem;margin-bottom:20px;"></i><h1>BAKIM MODU</h1>
<input type="password" id="emergencyPass" class="custom-input" placeholder="≈ûifre" style="width:200px;text-align:center;"><button onclick="emergencyLogin()" class="btn-confirm" style="width:auto;">Giri≈ü</button>
</div>

<!-- ADMIN PANEL -->
<div id="adminPanelModal" class="modal"><div class="modal-box"><h3 style="text-align:center;color:#ff0040;">üõ°Ô∏è Y√∂netici Paneli</h3><div class="admin-modal-body">
<div class="admin-menu-btn" onclick="toggleSubMenu('channelAdmin')"><span>üì∫ Kanal Y√∂netimi</span> ‚ñº</div><div id="channelAdmin" class="admin-submenu"><input type="text" id="addTitle" class="custom-input" placeholder="Kanal Adƒ±"><input type="text" id="addM3u" class="custom-input" placeholder="M3U URL"><input type="text" id="addWeb" class="custom-input" placeholder="Web URL"><button class="btn-shorten" onclick="shortenUrl('addWeb')">Link Kƒ±salt</button><input type="text" id="addImg" class="custom-input" placeholder="Resim URL"><input type="number" id="addOrder" class="custom-input" placeholder="Sƒ±ra"><button onclick="addNewChannel()" class="btn-confirm">Ekle</button><div id="adminChannelList" style="margin-top:10px;"></div></div>
<div class="admin-menu-btn" onclick="toggleSubMenu('pollAdmin')"><span>üìä Anket & Saya√ß</span> ‚ñº</div><div id="pollAdmin" class="admin-submenu"><h5>Anket</h5><input type="text" id="pollQ" class="custom-input" placeholder="Soru"><input type="text" id="pollO1" class="custom-input" placeholder="Se√ßenek 1"><input type="text" id="pollO2" class="custom-input" placeholder="Se√ßenek 2"><button onclick="savePoll()" class="btn-confirm">Ba≈ülat</button><button onclick="resetPoll()" class="btn-cancel">Bitir</button><h5>Saya√ß</h5><input type="text" id="cdT" class="custom-input" placeholder="Ba≈ülƒ±k"><input type="datetime-local" id="cdD" class="custom-input" style="color-scheme:dark;"><button onclick="saveCountdown()" class="btn-confirm">Ba≈ülat</button><button onclick="stopCountdown()" class="btn-cancel">Durdur</button></div>
<div class="admin-menu-btn" onclick="toggleSubMenu('extraAdmin')"><span>üì¢ Duyuru & Ayarlar</span> ‚ñº</div><div id="extraAdmin" class="admin-submenu"><input type="text" id="annoInp" class="custom-input" placeholder="Kayan Yazƒ±"><button onclick="saveAnno()" class="btn-confirm">Yayƒ±nla</button><button onclick="stopAnno()" class="btn-cancel">Kaldƒ±r</button><button class="btn-cancel" onclick="toggleMaint()" style="background:#f39c12;">üöß Bakƒ±m Modu</button><button class="btn-cancel" onclick="clearChat()" style="background:#c0392b;">üóëÔ∏è Sohbeti Sil</button><button class="btn-confirm" onclick="restoreBackup()" style="background:#3498db;">üìÇ Eski Listeyi Y√ºkle</button></div>
</div><button onclick="document.getElementById('adminPanelModal').style.display='none'" class="btn-cancel">Kapat</button></div></div>

<!-- MAIN UI -->
<div class="top-bar">
<div class="logo">INADINA TV</div>
<div class="header-actions">
<div class="search-wrapper"><input type="text" id="searchInput" class="search-input-header" placeholder="Ara..." onkeyup="filterList()"><button class="search-icon-btn" onclick="toggleSearch()"><i class="fas fa-search"></i></button></div>
<div class="online-badge"><i class="fas fa-users"></i> <span id="onlineCount">0</span></div>
<button class="theme-btn" onclick="toggleTheme()"><i class="fas fa-moon"></i></button>
<a href="https://t.me/inadinatv" style="color:white;font-size:1.4rem;"><i class="fab fa-telegram"></i></a>
</div>
</div>
<div id="announcementBar" class="announcement-bar"><div class="announcement-content" id="announcementText"></div></div>

<div class="feature-container" id="featureContainer">
<div id="countdownBox" class="countdown-box"><div id="countdownTitle" style="color:var(--primary);font-weight:bold;"></div><div id="countdownTimer" class="countdown-timer"></div></div>
<div id="pollBox" class="poll-box"><span id="pollQuestion" style="font-weight:bold;"></span><div onclick="vote('opt1')" style="margin-top:5px;cursor:pointer;"><div class="poll-bar-bg"><div id="bar1" class="poll-bar-fill"></div></div><div style="display:flex;justify-content:space-between;margin-top:-25px;position:relative;z-index:2;color:white;padding:0 5px;"><span id="pollOpt1"></span><span id="pollPct1">0%</span></div></div><div onclick="vote('opt2')" style="margin-top:5px;cursor:pointer;"><div class="poll-bar-bg"><div id="bar2" class="poll-bar-fill"></div></div><div style="display:flex;justify-content:space-between;margin-top:-25px;position:relative;z-index:2;color:white;padding:0 5px;"><span id="pollOpt2"></span><span id="pollPct2">0%</span></div></div></div>
</div>

<div class="container"><div id="list"></div></div>
<button class="load-more-btn" id="loadMoreBtn" onclick="loadMore()">Daha Fazla</button>
<div class="chat-btn" onclick="toggleChat()"><i class="fas fa-comment-dots"></i></div>
<div class="admin-panel-btn" id="adminBtn" onclick="openAdminPanel()"><i class="fas fa-shield-alt"></i></div>

<!-- CHAT -->
<div class="chat-modal" id="chatModal">
<div style="padding:15px;display:flex;justify-content:space-between;align-items:center;background:rgba(0,0,0,0.2);">
<div><span id="chatStatus" style="font-weight:bold;">Sohbet üü¢</span> <i class="fas fa-edit" onclick="document.getElementById('nameModal').style.display='flex'"></i></div><i class="fas fa-times" onclick="toggleChat()"></i>
</div>
<div id="chatMessages" class="chat-messages"></div>
<div id="replyPreview" class="reply-preview-bar"><div><b id="replyUser"></b>: <span id="replyText"></span></div><i class="fas fa-times" onclick="cancelReply()"></i></div>
<div class="chat-input-area">
<button class="chat-img-btn" onclick="document.getElementById('imgUpload').click()"><i class="fas fa-camera"></i></button><input type="file" id="imgUpload" style="display:none" accept="image/*" onchange="uploadImg(event)">
<input type="text" class="chat-input" id="msgInput" placeholder="Mesaj..."><button onclick="sendMsg()" class="chat-img-btn" style="background:var(--primary);"><i class="fas fa-paper-plane"></i></button>
</div>
</div>

<!-- MODALS -->
<div id="nameModal" class="modal"><div class="modal-box"><h3>ƒ∞sim Deƒüi≈ütir</h3><input type="text" id="newName" class="custom-input"><button onclick="saveName()" class="btn-confirm">Kaydet</button><button onclick="document.getElementById('nameModal').style.display='none'" class="btn-cancel">ƒ∞ptal</button></div></div>
<div id="playerModal" class="modal"><div class="modal-box"><h3 id="mTitle" style="text-align:center;"></h3><div class="player-opt" id="btnWuffy"><i class="fas fa-play"></i> Wuffy</div><div class="player-opt" id="btnXpola"><i class="fas fa-rocket"></i> Xpola</div><div class="player-opt" id="btnWeb" style="border:1px solid #f39c12;color:#f39c12;"><i class="fas fa-link"></i> Web</div><button onclick="document.getElementById('playerModal').style.display='none'" class="btn-cancel">Kapat</button></div></div>
<div id="actionModal" class="modal"><div class="modal-box"><h3 id="actTitle" style="text-align:center;"></h3><button onclick="actReply()" class="btn-confirm">Yanƒ±tla</button><div id="admActs" style="display:none;"><button onclick="actBan()" class="btn-cancel" style="background:red;">Engelle</button><button onclick="actDel()" class="btn-cancel">Sil</button></div><button onclick="document.getElementById('actionModal').style.display='none'" class="btn-cancel">Kapat</button></div></div>

<script>
const backup=[{"title": "SUPMOT ƒ∞PTV ƒ∞NDƒ∞R", "m3u_url": "https://file.garden/Z-hq5n4Shk27aY58/supmot-iptv.m3u", "web_link_url": "https://ay.live/sBLi", "image": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS4yG_juMJsuYS1fMI3WD6l6yqJTAo80TL3k6NqS2G63PIwAxwarsjUuTE&s=10", "added_date": "19.01.2026"}, {"title": "10 ADET MAC ADRESƒ∞ ƒ∞PTV", "m3u_url": "https://file.garden/aMCMLdwOhlHjDvvq/inadinamackod.m3u", "web_link_url": "https://ay.live/ZZ5c", "image": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS4yG_juMJsuYS1fMI3WD6l6yqJTAo80TL3k6NqS2G63PIwAxwarsjUuTE&s=10", "added_date": "18.01.2026"}, {"title": "KRƒ∞STAL ƒ∞PTV EKLENDƒ∞", "m3u_url": "https://file.garden/Z-hq5n4Shk27aY58/Kristal-iptv-W.m3u", "web_link_url": "https://ay.live/8Gxpf", "image": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS4yG_juMJsuYS1fMI3WD6l6yqJTAo80TL3k6NqS2G63PIwAxwarsjUuTE&s=10", "added_date": "18.01.2026"}, {"title": "SMARTES2 ƒ∞PTV", "m3u_url": "http://smartzone1.xyz:8080/get.php?username=zrdQ5UHD&password=q82fkQT&type=m3u_plus", "web_link_url": "https://ay.live/xAdwL", "image": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS4yG_juMJsuYS1fMI3WD6l6yqJTAo80TL3k6NqS2G63PIwAxwarsjUuTE&s=10", "added_date": "17.01.2026"}, {"title": "10 Bƒ∞N Kƒ∞Sƒ∞Lƒ∞K ƒ∞PTV", "m3u_url": "https://broken-night-dffb.deathlesstelenyu.workers.dev/dth-iptv.m3u", "web_link_url": "https://ay.live/QfCR", "image": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS4yG_juMJsuYS1fMI3WD6l6yqJTAo80TL3k6NqS2G63PIwAxwarsjUuTE&s=10", "added_date": "16.01.2026"}, {"title": "SMART ƒ∞PTV", "m3u_url": "http://smartzone1.xyz:8080/get.php?username=utSzxq7SY6&password=dj1yyFAQJy&type=m3u_plus", "web_link_url": "https://ay.live/5kQj", "image": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS4yG_juMJsuYS1fMI3WD6l6yqJTAo80TL3k6NqS2G63PIwAxwarsjUuTE&s=10", "added_date": "15.01.2026"}, {"title": "YENƒ∞ SPORT ƒ∞PTV", "m3u_url": "https://file.garden/Z-hq5n4Shk27aY58/sport-connec.m3u", "web_link_url": "https://ay.live/Ry1l", "image": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS4yG_juMJsuYS1fMI3WD6l6yqJTAo80TL3k6NqS2G63PIwAxwarsjUuTE&s=10", "added_date": "14.01.2026"}, {"title": "10 Sƒ∞Nƒ∞RSƒ∞Z ƒ∞PTV M3U", "m3u_url": "https://file.garden/Z-hq5n4Shk27aY58/megaiptv-X.m3u", "web_link_url": "https://ay.live/7LxRP8", "image": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS4yG_juMJsuYS1fMI3WD6l6yqJTAo80TL3k6NqS2G63PIwAxwarsjUuTE&s=10", "added_date": "13.01.2026"}, {"title": "SMARTZONE ƒ∞PTV", "m3u_url": "http://smartzone1.xyz:8080/get.php?username=gRNhEpGh3m&password=fmaAdfkHXJ&type=m3u_plus", "web_link_url": "https://ay.live/q9fMZa", "image": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS4yG_juMJsuYS1fMI3WD6l6yqJTAo80TL3k6NqS2G63PIwAxwarsjUuTE&s=10", "added_date": "12.01.2026"}, {"title": "MEGA ƒ∞PTV ƒ∞NDƒ∞R", "m3u_url": "https://file.garden/Z-hq5n4Shk27aY58/megaiptv-X.m3u", "web_link_url": "https://ay.live/G7TFl", "image": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS4yG_juMJsuYS1fMI3WD6l6yqJTAo80TL3k6NqS2G63PIwAxwarsjUuTE&s=10", "added_date": "11.01.2026"}, {"title": "1500 MAX SPORTS ƒ∞PTV", "m3u_url": "https://file.garden/aMCMLdwOhlHjDvvq/nadina-1500-Max-iptv.m3u", "web_link_url": "https://ay.live/Se6xQ", "image": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS4yG_juMJsuYS1fMI3WD6l6yqJTAo80TL3k6NqS2G63PIwAxwarsjUuTE&s=10", "added_date": "09.01.2026"}, {"title": "QUANTUM ƒ∞PTV Lƒ∞ST", "m3u_url": "https://file.garden/Z-hq5n4Shk27aY58/Kuantum-iptv.m3u", "web_link_url": "https://ay.live/8Xy9", "image": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS4yG_juMJsuYS1fMI3WD6l6yqJTAo80TL3k6NqS2G63PIwAxwarsjUuTE&s=10", "added_date": "08.01.2026"}, {"title": "FULL BOT ƒ∞PTV SPORTS", "m3u_url": "https://deathless.short.gy/Full-Bot-iptv.m3u", "web_link_url": "https://ay.live/ld7M", "image": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS4yG_juMJsuYS1fMI3WD6l6yqJTAo80TL3k6NqS2G63PIwAxwarsjUuTE&s=10", "added_date": "07.01.2026"}, {"title": "Ekalite iptv m3u", "m3u_url": "http://ekalite.xyz:8080/get.php?username=ibrahimtak&password=qwkRZHAwaK&type=m3u_plus", "web_link_url": "https://ay.live/4eoXDj", "image": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS4yG_juMJsuYS1fMI3WD6l6yqJTAo80TL3k6NqS2G63PIwAxwarsjUuTE&s=10", "added_date": "06.01.2026"}, {"title": "D SPORTS M3U ADRESƒ∞ EKLEND", "m3u_url": "https://file.garden/Z-hq5n4Shk27aY58/DTH-Sports.m3u", "web_link_url": "https://ay.live/w2Avb", "image": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS4yG_juMJsuYS1fMI3WD6l6yqJTAo80TL3k6NqS2G63PIwAxwarsjUuTE&s=10", "added_date": "05.01.2026"}, {"title": "30 ADET ƒ∞PTV M3U Lƒ∞STE", "m3u_url": "http://maisonxp.click/get.php?username=thay123&password=thay123&type=m3u", "web_link_url": "https://ay.live/zcn3j7", "image": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS4yG_juMJsuYS1fMI3WD6l6yqJTAo80TL3k6NqS2G63PIwAxwarsjUuTE&s=10", "added_date": "04.01.2026"}, {"title": "ELƒ∞TE MAC ADRESLERƒ∞ ƒ∞PTV", "m3u_url": "https://file.garden/aMCMLdwOhlHjDvvq/playlist.m3u", "web_link_url": "https://ay.live/DfpE", "image": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS4yG_juMJsuYS1fMI3WD6l6yqJTAo80TL3k6NqS2G63PIwAxwarsjUuTE&s=10", "added_date": "04.01.2026"}, {"title": "KARMA ƒ∞PTV 23K", "m3u_url": "https://file.garden/Z-hq5n4Shk27aY58/Karma-iptv.m3u", "web_link_url": "https://ay.live/6WmReB", "image": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS4yG_juMJsuYS1fMI3WD6l6yqJTAo80TL3k6NqS2G63PIwAxwarsjUuTE&s=10", "added_date": "03.01.2026"}, {"title": "Yeni iptv liste", "m3u_url": "https://file.garden/Z-hq5n4Shk27aY58/DeaTHLesS-TG-iptv.m3u", "web_link_url": "https://ay.live/0cKg", "image": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS4yG_juMJsuYS1fMI3WD6l6yqJTAo80TL3k6NqS2G63PIwAxwarsjUuTE&s=10", "added_date": "02.01.2026"}, {"title": "Turkiye Connect iptv", "m3u_url": "https://file.garden/Z-hq5n4Shk27aY58/Turkiye-iptv.m3u", "web_link_url": "https://ay.live/6Dr", "image": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS4yG_juMJsuYS1fMI3WD6l6yqJTAo80TL3k6NqS2G63PIwAxwarsjUuTE&s=10", "added_date": "01.01.2026"}, {"title": "9500 ƒ∞PTV M3U Lƒ∞NKLER Yƒ∞LBASƒ∞ OZEL", "m3u_url": "http://ss.wancolonel.xyz:8080/get.php?username=Denisurlu&password=Muri3091&type=m3u_plus", "web_link_url": "https://ay.live/3hJ9te", "image": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS4yG_juMJsuYS1fMI3WD6l6yqJTAo80TL3k6NqS2G63PIwAxwarsjUuTE&s=10", "added_date": "31.12.2025"}, {"title": "3 Adet ƒ∞ptv link", "m3u_url": "https://izleyici.aykara463.workers.dev/DeaTHLesS.m3u", "web_link_url": "https://ay.live/KCwKj", "image": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS4yG_juMJsuYS1fMI3WD6l6yqJTAo80TL3k6NqS2G63PIwAxwarsjUuTE&s=10", "added_date": "30.12.2025"}, {"title": "XTREAM ƒ∞PTV Lƒ∞STELER EKLENDƒ∞", "m3u_url": "http://s1.eldest99.xyz:8080/get.php?username=hdkaptantv3706&password=kptn@8723706&type=m3u_plus", "web_link_url": "https://ay.live/Clqz", "image": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS4yG_juMJsuYS1fMI3WD6l6yqJTAo80TL3k6NqS2G63PIwAxwarsjUuTE&s=10", "added_date": "29.12.2025"}, {"title": "Fƒ∞LM EKSENƒ∞ ƒ∞PTV", "m3u_url": "https://raw.githubusercontent.com/sultansmgr/smart/refs/heads/main/FilmEkseni.m3u", "web_link_url": "https://ay.live/qCS", "image": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQESVvVD7PLGjrzbMvNGvIFOhRBoSxzoGBFLm3iG-xX1ZEArpkhkSItDVY&s=10", "added_date": "28.12.2025"}, {"title": "B. Conneckt ƒ∞ptv", "m3u_url": "https://file.garden/Z-hq5n4Shk27aY58/b-connect.m3u", "web_link_url": "https://ay.live/67w", "image": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS4yG_juMJsuYS1fMI3WD6l6yqJTAo80TL3k6NqS2G63PIwAxwarsjUuTE&s=10", "added_date": "28.12.2025"}, {"title": "Spor Kanallari bot iptv", "m3u_url": "https://izleyici.aykara463.workers.dev/DeaTHLesS.m3u", "web_link_url": "https://ay.live/9GlX", "image": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS4yG_juMJsuYS1fMI3WD6l6yqJTAo80TL3k6NqS2G63PIwAxwarsjUuTE&s=10", "added_date": "27.12.2025"}, {"title": "100 Bin kisilik iptv", "m3u_url": "https://file.garden/Z-hq5n4Shk27aY58/DeaTHLesS-TG-iptv.m3u", "web_link_url": "https://ay.live/6QE", "image": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS4yG_juMJsuYS1fMI3WD6l6yqJTAo80TL3k6NqS2G63PIwAxwarsjUuTE&s=10", "added_date": "27.12.2025"}, {"title": "Hibrit ƒ∞ptv", "m3u_url": "https://file.garden/Z-hq5n4Shk27aY58/Toplu-Paket-V.m3u", "web_link_url": "https://ay.live/eAAA7K", "image": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS4yG_juMJsuYS1fMI3WD6l6yqJTAo80TL3k6NqS2G63PIwAxwarsjUuTE&s=10", "added_date": "27.12.2025"}, {"title": "553 Adet iptv Liste", "m3u_url": "http://otom.191462.xyz:8080/get.php?username=Veritech319&password=Dtx10012023@&type=m3u_plus", "web_link_url": "https://ay.live/DGKU", "image": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS4yG_juMJsuYS1fMI3WD6l6yqJTAo80TL3k6NqS2G63PIwAxwarsjUuTE&s=10", "added_date": "27.12.2025"}]; const API_KEY="cce8efcdd2693c8adde90f05832332f7f30fbf41"; const ADMIN_PASS="burhan_baba_72";
const firebaseConfig={apiKey:"AIzaSyCZFwiLcV4K3EnRDWpPPlXPrXSJxAuMfaQ",authDomain:"iptvbotcoun.firebaseapp.com",databaseURL:"https://iptvbotcoun-default-rtdb.firebaseio.com",projectId:"iptvbotcoun",storageBucket:"iptvbotcoun.firebasestorage.app",messagingSenderId:"229841892818",appId:"1:229841892818:web:a91dd3792919140a5d440b"};
firebase.initializeApp(firebaseConfig); const db=firebase.database();

let catData={items:[]}, filtered=[], perPage=10, shown=10, isAdmin=localStorage.getItem('isAdmin')==='true', myUser=localStorage.getItem('user')||'Misafir', myId=localStorage.getItem('uid')||'u_'+Date.now(), likes=[], globalLikes={}, globalViews={}, repData=null;
localStorage.setItem('uid',myId); localStorage.setItem('user',myUser);
try { likes = JSON.parse(localStorage.getItem('likes') || "[]"); } catch(e){ likes=[]; }

function init(){
 if(isAdmin){document.getElementById('adminBtn').style.display='flex'; document.getElementById('chatStatus').innerText="Y√∂netici üëÆ";}
 db.ref('channels').on('value',s=>{ const d=s.val(); let arr=[]; if(d) arr=Object.keys(d).map(k=>({...d[k],key:k})).sort((a,b)=>(a.order||99)-(b.order||99)); catData.items=arr; filtered=arr; render(); if(isAdmin)renderAdminList(arr); });
 db.ref('extras').on('value',s=>{ 
  const v=s.val()||{}; 
  if(v.announcement&&v.announcement.active){document.getElementById('announcementBar').style.display='block';document.getElementById('announcementText').innerText=v.announcement.text;}else{document.getElementById('announcementBar').style.display='none';}
  if(v.poll&&v.poll.active){document.getElementById('pollBox').style.display='block'; document.getElementById('pollQuestion').innerText=v.poll.q; document.getElementById('pollOpt1').innerText=v.poll.o1; document.getElementById('pollOpt2').innerText=v.poll.o2; const t=(v.poll.v1||0)+(v.poll.v2||0); const p1=t?Math.round((v.poll.v1/t)*100):0; document.getElementById('bar1').style.width=p1+'%'; document.getElementById('pollPct1').innerText=p1+'%'; document.getElementById('bar2').style.width=(t?100-p1:0)+'%'; document.getElementById('pollPct2').innerText=(t?100-p1:0)+'%';}else{document.getElementById('pollBox').style.display='none';}
  if(v.countdown&&v.countdown.active){document.getElementById('countdownBox').style.display='block'; startTimer(v.countdown.target, v.countdown.title);}else{document.getElementById('countdownBox').style.display='none';}
  if(v.maint&&!isAdmin) document.getElementById('maintenanceScreen').style.display='flex'; else document.getElementById('maintenanceScreen').style.display='none';
 });
 db.ref('stats').on('value', s=>{ 
    const v = s.val() || {};
    globalLikes = v.likes || {};
    globalViews = v.views || {};
    updateStatsUI();
 });
 initChat(); initPresence();
}

function updateStatsUI(){
 document.querySelectorAll('.card').forEach(c=>{
    const k = c.getAttribute('data-key');
    if(k){
        const l = globalLikes[k] || 0;
        const v = globalViews[k] || 0;
        const lEl = c.querySelector('.like-cnt');
        const vEl = c.querySelector('.view-cnt');
        if(lEl) lEl.innerText = l;
        if(vEl) vEl.innerText = v;
    }
 });
}

function render(){
 const c=document.getElementById('list'); c.innerHTML='';
 filtered.forEach((i,x)=>{ if(x>=shown)return;
  const isNew = checkNew(i.added_date);
  const badge = isNew ? '<span class="badge badge-new">YENƒ∞</span>' : '<span class="badge badge-iptv">IPTV</span>';
  const isLiked = likes.includes(i.key) ? 'liked' : '';
  const div=document.createElement('div'); div.className='card'; div.setAttribute('data-key', i.key);
  
  div.innerHTML=`<div class="img-box"><img src="${i.image}" class="card-img" onerror="this.src='https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS4yG_juMJsuYS1fMI3WD6l6yqJTAo80TL3k6NqS2G63PIwAxwarsjUuTE&s=10'">${badge}</div>
  <div class="card-info"><div class="card-name">${i.title}</div>
  <div class="card-meta">
    <span>${i.added_date||""}</span>
    <span class="stat-badge"><i class="fas fa-eye stat-eye"></i> <span class="view-cnt">${globalViews[i.key]||0}</span></span>
    <span class="stat-badge"><i class="fas fa-heart stat-heart ${isLiked}" onclick="toggleLike(event, '${i.key}')"></i> <span class="like-cnt">${globalLikes[i.key]||0}</span></span>
  </div></div><i class="fas fa-play-circle play-icon"></i>`;
  div.onclick=(e)=>{ 
      if(e.target.classList.contains('stat-heart')) return;
      db.ref('stats/views/'+i.key).transaction(c=>(c||0)+1);
      document.getElementById('mTitle').innerText=i.title; document.getElementById('playerModal').style.display='flex'; setupPlayer(i); 
  };
  c.appendChild(div);
 });
 if(filtered.length>shown) document.getElementById('loadMoreBtn').classList.remove('hidden'); else document.getElementById('loadMoreBtn').classList.add('hidden');
}

function toggleLike(e, key){
    e.stopPropagation();
    if(likes.includes(key)){ showToast('Zaten beƒüendin!'); return; }
    likes.push(key); localStorage.setItem('likes', JSON.stringify(likes));
    db.ref('stats/likes/'+key).transaction(c=>(c||0)+1);
    e.target.classList.add('liked');
}

function checkNew(dateStr){ if(!dateStr)return false; const p=dateStr.split('.'); if(p.length!=3)return false; const d=new Date(p[2],p[1]-1,p[0]); const diff=(new Date()-d)/(1000*3600*24); return diff<=3; }
function setupPlayer(i){
 document.getElementById('btnWuffy').onclick=()=>{window.location.href=`intent://${btoa(i.m3u_url)}#Intent;scheme=xmtv;package=co.wuffy.player;end`;};
 document.getElementById('btnXpola').onclick=()=>{window.location.href=`intent://${btoa(i.m3u_url)}#Intent;scheme=xmtv-m3u;package=com.xpola.player;end`;};
 document.getElementById('btnWeb').onclick=()=>{if(i.web_link_url)window.open(i.web_link_url,'_blank');};
}

// CHAT SYSTEM
function initChat(){
 db.ref('chat').limitToLast(50).on('child_added',s=>{
  const m=s.val(); const d=document.createElement('div'); d.className=`message-bubble ${m.uid===myId?'msg-right':'msg-left'}`;
  if(m.isAdmin) d.style.border='1px solid #ffeb3b';
  let content = m.type==='img' ? `<img src="${m.text}" class="chat-img" onclick="window.open('${m.text}')">` : `<div>${m.text}</div>`;
  let reply = m.reply ? `<div class="quoted-msg"><b>${m.reply.user}</b>: ${m.reply.text}</div>` : '';
  d.innerHTML=`<span class="msg-user" onclick="openAct('${m.uid}','${m.user}','${s.key}')">${m.user} ${m.isAdmin?'üõ°Ô∏è':''}</span>${reply}${content}`;
  document.getElementById('chatMessages').appendChild(d); document.getElementById('chatMessages').scrollTop=99999;
 });
}

function sendMsg(){
 const t=document.getElementById('msgInput').value.trim(); 
 if(t===ADMIN_PASS){ localStorage.setItem('isAdmin','true'); location.reload(); return; }
 if(!t) return;
 db.ref('chat').push({user:isAdmin?'Y√ñNETƒ∞Cƒ∞':myUser, text:t, uid:myId, isAdmin:isAdmin, reply:repData, type:'text', time:Date.now()});
 document.getElementById('msgInput').value=''; cancelReply();
}

function uploadImg(e){
 const f=e.target.files[0]; if(!f)return;
 const r=new FileReader(); r.onload=function(ev){
  const img=new Image(); img.onload=function(){
   const c=document.createElement('canvas'); const ctx=c.getContext('2d');
   const scale=500/img.width; c.width=500; c.height=img.height*scale;
   ctx.drawImage(img,0,0,c.width,c.height);
   db.ref('chat').push({user:myUser, text:c.toDataURL('image/jpeg',0.7), uid:myId, isAdmin:isAdmin, type:'img', time:Date.now()});
  }; img.src=ev.target.result;
 }; r.readAsDataURL(f);
}

window.prepReply=function(u,t){ repData={user:u,text:t.substring(0,20)+'...'}, document.getElementById('replyPreview').style.display='flex'; document.getElementById('replyUser').innerText=u; document.getElementById('replyText').innerText=repData.text; };
window.cancelReply=function(){ repData=null; document.getElementById('replyPreview').style.display='none'; };
window.openAct=function(uid,u,k){ if(uid===myId)return; document.getElementById('actTitle').innerText=u; document.getElementById('actionModal').style.display='flex'; if(isAdmin){document.getElementById('admActs').style.display='block';} window.selMsg={uid,k,u}; };
window.actReply=function(){ document.getElementById('actionModal').style.display='none'; prepReply(selMsg.u, "Mesaj..."); };
window.actDel=function(){ db.ref('chat/'+selMsg.k).remove(); document.getElementById('actionModal').style.display='none'; location.reload(); };
window.actBan=function(){ db.ref('banned/'+selMsg.uid).set(true); document.getElementById('actionModal').style.display='none'; };

// ADMIN
async function addNewChannel(){
 const t=document.getElementById('addTitle').value, m=document.getElementById('addM3u').value, i=document.getElementById('addImg').value, o=document.getElementById('addOrder').value; let w=document.getElementById('addWeb').value;
 if(!t)return showToast('Ba≈ülƒ±k ≈üart!');
 if(w && w.startsWith('http')){ try{ const r=await fetch(`https://ay.live/api/?api=${API_KEY}&url=${encodeURIComponent(w)}&format=text`); const txt=await r.text(); if(txt.startsWith('http')) w=txt; }catch(e){} }
 db.ref('channels').push({title:t,m3u_url:m||'#',web_link_url:w||'#',image:i||'',added_date:new Date().toLocaleDateString('tr-TR'),order:parseInt(o)||99});
 showToast('Eklendi');
}
function renderAdminList(arr){ const d=document.getElementById('adminChannelList'); d.innerHTML=''; arr.forEach(i=>{ d.innerHTML+=`<div style="display:flex;justify-content:space-between;background:rgba(255,255,255,0.1);padding:5px;margin:2px;border-radius:5px;"><span>${i.title}</span><button onclick="db.ref('channels/${i.key}').remove()" style="background:red;color:white;border:none;">Sil</button></div>`; }); }
window.saveAnno=()=>{ db.ref('extras/announcement').set({active:true,text:document.getElementById('annoInp').value}); };
window.stopAnno=()=>{ db.ref('extras/announcement').set({active:false}); };
window.savePoll=()=>{ db.ref('extras/poll').set({active:true,q:document.getElementById('pollQ').value,o1:document.getElementById('pollO1').value,o2:document.getElementById('pollO2').value,v1:0,v2:0}); };
window.resetPoll=()=>{ db.ref('extras/poll').set({active:false}); };
window.saveCountdown=()=>{ db.ref('extras/countdown').set({active:true,title:document.getElementById('cdT').value,target:new Date(document.getElementById('cdD').value).getTime()}); };
window.stopCountdown=()=>{ db.ref('extras/countdown').set({active:false}); };
window.toggleMaint=()=>{ db.ref('extras/maint').transaction(v=>!v); };
window.clearChat=()=>{ if(confirm('Sil?')) db.ref('chat').remove(); };
window.restoreBackup=()=>{ if(backup.length) backup.forEach(i=>db.ref('channels').push(i)); showToast('Y√ºklendi'); };
window.shortenUrl=function(id){ const u=document.getElementById(id).value; if(u) fetch(`https://ay.live/api/?api=${API_KEY}&url=${encodeURIComponent(u)}&format=text`).then(r=>r.text()).then(t=>{ if(t.startsWith("http")) document.getElementById(id).value=t; }); };

// HELPERS
function toggleSearch(){ const i=document.getElementById('searchInput'); i.classList.toggle('active'); if(i.classList.contains('active'))i.focus(); }
function filterList(){ const q=document.getElementById('searchInput').value.toLowerCase(); filtered=catData.items.filter(i=>i.title.toLowerCase().includes(q)); render(); }
function startTimer(target, title){
 document.getElementById('countdownTitle').innerText=title;
 setInterval(()=>{ const now=new Date().getTime(), d=target-now; 
  if(d<0) return;
  document.getElementById('countdownTimer').innerText = Math.floor(d/(1000*60*60*24))+"G "+Math.floor((d%(1000*60*60*24))/(1000*60*60))+"S "+Math.floor((d%(1000*60*60))/(1000*60))+"D";
 },1000);
}
function vote(o){ if(localStorage.getItem('voted'))return showToast('Zaten oy verdin'); db.ref('extras/poll/'+(o=='opt1'?'v1':'v2')).transaction(c=>(c||0)+1); localStorage.setItem('voted','1'); }
function toggleTheme(){ document.body.classList.toggle('light-theme'); localStorage.setItem('theme', document.body.classList.contains('light-theme')?'light':'dark'); }
function loadMore(){ shown+=perPage; render(); }
function toggleChat(){ document.getElementById('chatModal').classList.toggle('active'); }
function openAdminPanel(){ document.getElementById('adminPanelModal').style.display='flex'; }
function toggleSubMenu(id){ document.getElementById(id).style.display = document.getElementById(id).style.display==='block'?'none':'block'; }
function openNameModal(){ document.getElementById('nameModal').style.display='flex'; document.getElementById('newName').value=myUser; }
function saveName(){ myUser=document.getElementById('newName').value; localStorage.setItem('user',myUser); document.getElementById('nameModal').style.display='none'; }
function showToast(msg){ const t=document.getElementById('toast'); t.innerText=msg; t.classList.add('show'); setTimeout(()=>t.classList.remove('show'),3000); }
function initPresence(){ 
    db.ref('.info/connected').on('value', s=>{
        if(s.val()===true){ const con=db.ref('online').push(); con.onDisconnect().remove(); con.set(true); }
    });
    db.ref('online').on('value',s=>document.getElementById('onlineCount').innerText=s.numChildren()); 
}
if(localStorage.getItem('theme')==='light') toggleTheme();

init();
</script></body></html>