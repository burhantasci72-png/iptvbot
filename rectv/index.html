<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>INADINA TV</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root { --hue: 345; --primary: hsl(var(--hue), 100%, 50%); --bg: #0f0a1a; --surface: #1a1825; --text: #e8e6e3; --card-bg: rgba(255,255,255,0.06); --border: rgba(255,255,255,0.03); }
        body { background: var(--bg); color: var(--text); font-family: 'Poppins', sans-serif; margin: 0; padding-bottom: 20px; transition: background 0.3s, color 0.3s; }
        body.light-theme { --bg: #f5f5f5; --surface: #ffffff; --text: #1a1a1a; --card-bg: #ffffff; --border: #e0e0e0; }
        .top-bar { padding: 15px 20px; background: var(--surface); display: flex; justify-content: space-between; align-items: center; position: sticky; top:0; z-index:100; box-shadow: 0 4px 10px rgba(0,0,0,0.3); transition: background 0.3s; }
        .logo { font-size: 1.4rem; font-weight: 800; background: linear-gradient(135deg, #ff0040, #ff4d00); -webkit-background-clip: text; color: transparent; }
        .theme-btn { background: rgba(255, 255, 255, 0.08); border: 1px solid rgba(255, 255, 255, 0.1); color: #fff; padding: 8px 12px; border-radius: 8px; font-size: 1.2rem; cursor: pointer; display: flex; align-items: center; transition: all 0.3s; }
        .light-theme .theme-btn { background: rgba(0, 0, 0, 0.05); border-color: rgba(0, 0, 0, 0.1); color: #1a1a1a; }
        .container { padding: 15px; }
        .card { background: var(--card-bg); border-radius: 15px; padding: 10px; margin-bottom: 12px; display: flex; align-items: center; cursor: pointer; border: 1px solid var(--border); position: relative; transition: all 0.3s; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
        .light-theme .card { box-shadow: 0 2px 8px rgba(0,0,0,0.08); }
        .img-box { position: relative; width: 55px; height: 55px; flex-shrink: 0; }
        .card-img { width: 100%; height: 100%; border-radius: 10px; object-fit: cover; }
        .badge { position: absolute; top: -8px; right: -8px; font-size: 0.65rem; padding: 3px 8px; border-radius: 6px; font-weight: 800; z-index: 10; animation: pulse-glow 2s infinite ease-in-out; }
        .badge-yeni { background: linear-gradient(135deg, #ffab00, #ffea00); color: #000; }
        .badge-iptv { background: linear-gradient(135deg, #00d2ff, #3a7bd5); color: #fff; }
        @keyframes pulse-glow { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }
        .card-info { flex: 1; margin-left: 12px; }
        .card-name { font-weight: 700; font-size: 1rem; margin-bottom: 3px; color: var(--text); }
        .card-meta { font-size: 0.75rem; opacity: 0.5; color: var(--text); }
        .play-icon { color: var(--primary); font-size: 1.4rem; margin-left: 10px; }
        .modal { position: fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.9); z-index:1000; display:none; justify-content:center; align-items:center; }
        .light-theme .modal { background:rgba(0,0,0,0.5); }
        .modal-box { background: var(--surface); width: 85%; max-width: 380px; border-radius: 20px; padding: 20px; border: 1px solid var(--border); transition: background 0.3s; }
        .opt { display: flex; align-items: center; padding: 15px; margin: 8px 0; border-radius: 12px; background: rgba(255,255,255,0.05); gap: 15px; cursor: pointer; color: white; text-decoration: none; transition: all 0.3s; }
        .light-theme .opt { background: rgba(0,0,0,0.05); color: #1a1a1a; border: 1px solid rgba(0,0,0,0.1); }
        .light-theme .opt:hover { background: rgba(0,0,0,0.08); }
    </style>
</head>
<body>
    <div class="top-bar">
        <div class="logo">INADINA TV</div>
        <div style="display: flex; align-items: center; gap: 12px;">
            <button class="theme-btn" onclick="toggleTheme()" id="themeBtn">
                <i class="fas fa-moon"></i>
            </button>
            <a href="https://t.me/inadinatv" id="telegramBtn" style="color:white; font-size:1.4rem; transition: color 0.3s;"><i class="fab fa-telegram"></i></a>
        </div>
    </div>
    <div class="container"><div id="list"></div></div>
    <div class="modal" id="modal">
        <div class="modal-box">
            <h3 id="mTitle" style="text-align:center; margin-top:0; color:var(--primary);"></h3>
            <div class="opt" id="wuffy"><i class="fas fa-play" style="color:var(--primary)"></i> <b>Wuffy Player</b></div>
            <div class="opt" id="xpola"><i class="fas fa-rocket" style="color:var(--primary)"></i> <b>Xpola Player</b></div>
            <div class="opt" id="externalWeb" style="background: rgba(255,171,0,0.1); border: 1px solid #ffab00;">
                <i class="fas fa-external-link-alt" style="color:#ffab00"></i> <b style="color:#ffab00">Tarayıcıda Aç / İndir</b>
            </div>
            <button onclick="document.getElementById('modal').style.display='none'" style="width:100%; padding:12px; border-radius:10px; border:none; background:#333; color:white; margin-top:10px; cursor:pointer; font-weight:bold;" id="modalCloseBtn">Vazgeç</button>
        </div>
    </div>

    <script>const categoryData = { 'iptv_list': { 'items': [{"title": "9500 İPTV M3U LİNKLER YİLBASİ OZEL", "url": "http://ss.wancolonel.xyz:8080/get.php?username=Denisurlu&password=Muri3091&type=m3u_plus", "image": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS4yG_juMJsuYS1fMI3WD6l6yqJTAo80TL3k6NqS2G63PIwAxwarsjUuTE&s=10", "web_link_url": "https://ay.live/CdzKzq", "is_new": true, "added_date": "31.12.2025"}, {"title": "3 Adet İptv link", "url": "https://izleyici.aykara463.workers.dev/DeaTHLesS.m3u", "image": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS4yG_juMJsuYS1fMI3WD6l6yqJTAo80TL3k6NqS2G63PIwAxwarsjUuTE&s=10", "web_link_url": "https://ay.live/KCwKj", "is_new": false, "added_date": "30.12.2025"}, {"title": "XTREAM İPTV LİSTELER EKLENDİ", "url": "http://s1.eldest99.xyz:8080/get.php?username=hdkaptantv3706&password=kptn@8723706&type=m3u_plus", "image": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS4yG_juMJsuYS1fMI3WD6l6yqJTAo80TL3k6NqS2G63PIwAxwarsjUuTE&s=10", "web_link_url": "https://ay.live/Clqz", "is_new": false, "added_date": "29.12.2025"}, {"title": "FİLM EKSENİ İPTV", "url": "https://raw.githubusercontent.com/sultansmgr/smart/refs/heads/main/FilmEkseni.m3u", "image": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQESVvVD7PLGjrzbMvNGvIFOhRBoSxzoGBFLm3iG-xX1ZEArpkhkSItDVY&s=10", "web_link_url": "https://ay.live/qCS", "is_new": false, "added_date": "28.12.2025"}, {"title": "B. Conneckt İptv", "url": "https://file.garden/Z-hq5n4Shk27aY58/b-connect.m3u", "image": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS4yG_juMJsuYS1fMI3WD6l6yqJTAo80TL3k6NqS2G63PIwAxwarsjUuTE&s=10", "web_link_url": "https://ay.live/67w", "is_new": false, "added_date": "28.12.2025"}, {"title": "Spor Kanallari bot iptv", "url": "https://izleyici.aykara463.workers.dev/DeaTHLesS.m3u", "image": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS4yG_juMJsuYS1fMI3WD6l6yqJTAo80TL3k6NqS2G63PIwAxwarsjUuTE&s=10", "web_link_url": "https://ay.live/9GlX", "is_new": false, "added_date": "27.12.2025"}, {"title": "100 Bin kisilik iptv", "url": "https://file.garden/Z-hq5n4Shk27aY58/DeaTHLesS-TG-iptv.m3u", "image": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS4yG_juMJsuYS1fMI3WD6l6yqJTAo80TL3k6NqS2G63PIwAxwarsjUuTE&s=10", "web_link_url": "https://ay.live/6QE", "is_new": false, "added_date": "27.12.2025"}, {"title": "Hibrit İptv", "url": "https://file.garden/Z-hq5n4Shk27aY58/Toplu-Paket-V.m3u", "image": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS4yG_juMJsuYS1fMI3WD6l6yqJTAo80TL3k6NqS2G63PIwAxwarsjUuTE&s=10", "web_link_url": "https://ay.live/eAAA7K", "is_new": false, "added_date": "27.12.2025"}, {"title": "553 Adet iptv Liste", "url": "http://otom.191462.xyz:8080/get.php?username=Veritech319&password=Dtx10012023@&type=m3u_plus", "image": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS4yG_juMJsuYS1fMI3WD6l6yqJTAo80TL3k6NqS2G63PIwAxwarsjUuTE&s=10", "web_link_url": "https://ay.live/DGKU", "is_new": false, "added_date": "27.12.2025"}] } }; const activeCategoryKey = 'iptv_list';</script>

    <script>
        let current = {};
        
        // TEMA DEĞIŞTIRME FONKSİYONU
        function toggleTheme() {
            const body = document.body;
            const themeBtn = document.getElementById('themeBtn');
            const telegramBtn = document.getElementById('telegramBtn');
            const modalCloseBtn = document.getElementById('modalCloseBtn');
            const icon = themeBtn.querySelector('i');
            
            body.classList.toggle('light-theme');
            
            if (body.classList.contains('light-theme')) {
                icon.className = 'fas fa-sun';
                telegramBtn.style.color = '#1a1a1a';
                modalCloseBtn.style.background = '#e0e0e0';
                modalCloseBtn.style.color = '#1a1a1a';
                localStorage.setItem('theme', 'light');
            } else {
                icon.className = 'fas fa-moon';
                telegramBtn.style.color = 'white';
                modalCloseBtn.style.background = '#333';
                modalCloseBtn.style.color = 'white';
                localStorage.setItem('theme', 'dark');
            }
        }
        
        // SAYFA YÜKLENDIĞINDE TEMA AYARINI YÜKLE
        function loadTheme() {
            const savedTheme = localStorage.getItem('theme');
            const themeBtn = document.getElementById('themeBtn');
            const telegramBtn = document.getElementById('telegramBtn');
            const modalCloseBtn = document.getElementById('modalCloseBtn');
            const icon = themeBtn.querySelector('i');
            
            if (savedTheme === 'light') {
                document.body.classList.add('light-theme');
                icon.className = 'fas fa-sun';
                telegramBtn.style.color = '#1a1a1a';
                modalCloseBtn.style.background = '#e0e0e0';
                modalCloseBtn.style.color = '#1a1a1a';
            }
        }
        
        function render() {
            const container = document.getElementById('list');
            if (typeof categoryData === 'undefined') return;
            
            const items = categoryData[activeCategoryKey].items;
            container.innerHTML = '';
            
            items.forEach(item => {
                const card = document.createElement('div');
                card.className = 'card';
                const badgeHTML = item.is_new ? '<span class="badge badge-yeni">YENİ</span>' : '<span class="badge badge-iptv">IPTV</span>';
                card.innerHTML = `
                    <div class="img-box"><img src="${item.image}" class="card-img" onerror="this.src='https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS4yG_juMJsuYS1fMI3WD6l6yqJTAo80TL3k6NqS2G63PIwAxwarsjUuTE&s=10'"> ${badgeHTML}</div>
                    <div class="card-info">
                        <div class="card-name">${item.title}</div>
                        <div class="card-meta">${item.added_date}</div>
                    </div>
                    <i class="fas fa-play-circle play-icon"></i>`;
                card.onclick = () => { 
                    current = item; 
                    document.getElementById('mTitle').innerText = item.title; 
                    document.getElementById('modal').style.display = 'flex'; 
                };
                container.appendChild(card);
            });
        }
        
        // HARİCİ CHROME TARAYICIDA AÇMA - APPCREATOR İÇİN ÖZEL
        document.getElementById('externalWeb').onclick = () => { 
            if(current.web_link_url && current.web_link_url !== "#") {
                const url = current.web_link_url;
                
                // Önce window.open ile dene (bazı sistemlerde çalışır)
                const opened = window.open(url, '_system');
                
                // Eğer açılmazsa, Android Intent ile zorla
                if (!opened || opened === null) {
                    // Googlechrome:// protokolü ile Chrome'da aç
                    window.location.href = 'googlechrome://navigate?url=' + encodeURIComponent(url);
                    
                    // Alternatif: Intent ile sistem tarayıcısını çağır
                    setTimeout(() => {
                        window.location.href = 'intent://' + url.replace(/^https?:\/\//, '') + '#Intent;scheme=' + (url.startsWith('https') ? 'https' : 'http') + ';action=android.intent.action.VIEW;category=android.intent.category.BROWSABLE;component=com.android.chrome/com.google.android.apps.chrome.Main;end';
                    }, 100);
                }
                
                // Modal'ı kapat
                document.getElementById('modal').style.display='none';
            }
        };

        document.getElementById('wuffy').onclick = () => { if(current.url!="#") window.location.href=`intent://${btoa(current.url)}#Intent;scheme=xmtv;package=co.wuffy.player;end`; };
        document.getElementById('xpola').onclick = () => { if(current.url!="#") window.location.href=`intent://${btoa(current.url)}#Intent;scheme=xmtv-m3u;package=com.xpola.player;end`; };
        window.onclick = (e) => { if(e.target == document.getElementById('modal')) document.getElementById('modal').style.display='none'; }
        
        // Veri yüklendikten sonra render'ı çalıştır
        document.addEventListener('DOMContentLoaded', () => {
            loadTheme();
            render();
        });
        loadTheme(); // Hemen tema yükle
        render(); // Hemen bir kez daha dene
    </script>
</body>
</html>